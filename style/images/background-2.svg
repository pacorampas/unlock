<svg version="1.1" id="circle"
	xmlns="http://www.w3.org/2000/svg"
	xmlns:xlink="http://www.w3.org/1999/xlink">

	<style type="text/css">
	<![CDATA[
	.color { fill: aqua; }
	.mask { fill: white; }
	]]>
	</style>

	<defs>
		<symbol id="left" viewport="0 0 100% 100%">
			<path d="M32,64h288V0L32,0C14.3269,0,0,14.3269,0,32C0,49.6731,14.3269,64,32,64z"/>
		</symbol>

		<symbol id="right" viewport="0 0 100% 100%">
			<use xlink:href="#left"/>
		</symbol>

		<clipPath id="crop">
			<rect class="mask" width="100%" height="100%" x="0"/>
		</clipPath>

		<mask id="mask">
			<svg width="50%" height="100%">
				<use xlink:href="#left" width="100%" height="100%" class="mask" />
			</svg>

			<g transform="scale(-1, 1)">
				<svg width="50%" height="100%" x="-100%" y="0">
					<use xlink:href="#right" width="100%" height="100%" class="mask" />
				</svg>
			</g>
		</mask>

	</defs>

	<rect id="element" class="color" width="100%" height="100%" mask="url(#mask)" />

	<script>
		var svgElement = document.getElementById('element');
		svgElement.style.fill = '#F00';
	</script>

</svg>